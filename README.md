# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
3. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
4. [–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞](#–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-–≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ-–∞–ª–≥–æ—Ä–∏—Ç–º–∞)
5. [–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤](#—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ-–∏-–∑–∞–≥—Ä—É–∑–∫–∞-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤)
6. [–ó–∞–ø—É—Å–∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](#–∑–∞–ø—É—Å–∫-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
7. [–†–µ–∑—É–ª—å—Ç–∞—Ç—ã](#—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)

---

## –û–±–∑–æ—Ä

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç **–≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (GA)** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ **—Å–µ—Ç–µ–≤–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (NetOper)** –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∑–∞–¥–∞—á–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω—ã–º —Ä–æ–±–æ—Ç–æ–º. 

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `NetOper` - —Å–µ—Ç–µ–≤–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å –º–∞—Ç—Ä–∏—Ü–µ–π –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- `GANOP` - –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- `RobotFitnessEvaluator` - —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω–æ—Å—Ç–∏ (fitness) –¥–ª—è —Ä–æ–±–æ—Ç–∞
- `RobotProblemConfig` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- `GAConfig` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rosbot_nop_controller/
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îú‚îÄ‚îÄ net_oper_my/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ nop.hpp              # –ö–ª–∞—Å—Å NetOper —Å –º–µ—Ç–æ–¥–∞–º–∏ load/save
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ train_robot_control.cpp  # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ GANOP.hpp                # –ì–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º
‚îÇ   ‚îú‚îÄ‚îÄ RobotFitnessEvaluator.hpp # –û—Ü–µ–Ω–∫–∞ –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ RobotProblemConfig.hpp    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏
‚îÇ   ‚îî‚îÄ‚îÄ controller.hpp            # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ä–æ–±–æ—Ç–∞
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ best_matrix.txt          # üìÅ –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
‚îÇ   ‚îú‚îÄ‚îÄ best_params.txt          # üìÅ –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
‚îÇ   ‚îú‚îÄ‚îÄ matrix.txt               # üìÅ –ò—Å—Ö–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îÇ   ‚îî‚îÄ‚îÄ params.txt               # üìÅ –ò—Å—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îî‚îÄ‚îÄ README.md
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 1. RobotProblemConfig - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á–∏

–§–∞–π–ª: `include/RobotProblemConfig.hpp`

```cpp
RobotProblemConfig robot_config;

// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–º—É–ª—è—Ü–∏–∏
robot_config.dt = 0.033333f;              // –®–∞–≥ —Å–∏–º—É–ª—è—Ü–∏–∏ (33ms)
robot_config.time_limit = 30.0f;          // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
robot_config.epsilon_term = 0.1f;         // –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Ü–µ–ª–∏ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

// –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
robot_config.num_trajectories = 64;       // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è –æ–±—É—á–µ–Ω–∏—è GA
robot_config.num_test_trajectories = 64;  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

// –ì—Ä–∞–Ω–∏—Ü—ã –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
robot_config.qyminc = {-5.5f, -5.5f, -1.31f};   // Min: x, y, theta
robot_config.qymaxc = {5.5f, 5.5f, 1.31f};     // Max: x, y, theta

// –ü—É—Ç—å –∫ ONNX –º–æ–¥–µ–ª–∏
robot_config.model_path = "rosbot_gazebo9_2d_model.onnx";

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ç–∏ (—É–∑–ª—ã –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –≤—ã—Ö–æ–¥–æ–≤)
robot_config.nodes_for_vars = {0, 1, 2};              // –í—Ö–æ–¥–Ω—ã–µ —É–∑–ª—ã (x, y, theta)
robot_config.nodes_for_params = {3, 4, 5, 6, 7, 8, 9, 10};  // –£–∑–ª—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (8 —à—Ç)
robot_config.nodes_for_output = {30, 31};             // –í—ã—Ö–æ–¥–Ω—ã–µ —É–∑–ª—ã (–¥–≤–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

// –ú–∞—Ç—Ä–∏—Ü–∞ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏
robot_config.base_matrix = {...};        // –ú–∞—Ç—Ä–∏—Ü–∞ —Å–≤—è–∑–µ–π —Å–µ—Ç–∏ (32x32)
robot_config.base_params = {...};        // –ë–∞–∑–æ–≤—ã–µ 8 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```

**–ì–¥–µ —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:**
- `num_trajectories` - GA –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
- `num_test_trajectories` - –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–∏–º—É–ª–∏—Ä—É—é—Ç—Å—è —ç—Ç–∏ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `nodes_for_params` - —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ —É–∑–ª—ã —Å–µ—Ç–∏ –±—É–¥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ–≥–æ 8)
- `base_matrix` - –∏—Å—Ö–æ–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —ç–≤–æ–ª—é—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞—Ç—å

### 2. GAConfig - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

–§–∞–π–ª: `train_robot_control.cpp` –≤ `main()`

```cpp
GAConfig ga_config;

// –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Ç–∏ (—Å–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –∏–∑ RobotProblemConfig)
ga_config.nodes_for_vars = robot_config.nodes_for_vars;
ga_config.nodes_for_params = robot_config.nodes_for_params;
ga_config.nodes_for_output = robot_config.nodes_for_output;

// ===== –ü–ê–†–ê–ú–ï–¢–†–´ –ì–ï–ù–ï–¢–ò–ß–ï–°–ö–û–ì–û –ê–õ–ì–û–†–ò–¢–ú–ê =====

// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ø—É–ª—è—Ü–∏–∏
ga_config.population_size = 500;          // –†–∞–∑–º–µ—Ä –ø–æ–ø—É–ª—è—Ü–∏–∏ –Ω–∞ –∫–∞–∂–¥–æ–º –ø–æ–∫–æ–ª–µ–Ω–∏–∏
ga_config.num_generations = 32;           // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫–æ–ª–µ–Ω–∏–π –¥–ª—è —ç–≤–æ–ª—é—Ü–∏–∏

// –ö—Ä–æ—Å—Å–æ–≤–µ—Ä –∏ –º—É—Ç–∞—Ü–∏—è
ga_config.num_crossovers_per_gen = 24;    // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è –∑–∞ –ø–æ–∫–æ–ª–µ–Ω–∏–µ
ga_config.mutation_prob = 0.5f;           // –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –º—É—Ç–∞—Ü–∏–∏ (50%)

// –°–µ–ª–µ–∫—Ü–∏—è
ga_config.selection_alpha = 0.5f;         // –ü–∞—Ä–∞–º–µ—Ç—Ä —Å–µ–ª–µ–∫—Ü–∏–∏ (–æ—Ç 0 –¥–æ 1)
ga_config.search_neighbors = 64;          // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å–µ–¥–µ–π –¥–ª—è –ø–æ–∏—Å–∫–∞

// –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π
ga_config.int_bits = 16;                  // –¶–µ–ª–∞—è —á–∞—Å—Ç—å —á–∏—Å–ª–∞ (16 –±–∏—Ç)
ga_config.frac_bits = 16;                 // –î—Ä–æ–±–Ω–∞—è —á–∞—Å—Ç—å —á–∏—Å–ª–∞ (16 –±–∏—Ç)

// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–µ—Ç–∏
ga_config.num_params = 8;                 // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

// –ú—É—Ç–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–µ—Ç–∏
ga_config.num_struct_variations = 15;     // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞—Ä–∏–∞—Ü–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞ –∏—Ç–µ—Ä–∞—Ü–∏—é

// –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å
ga_config.seed = 69;                      // Seed –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª
```

**–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∫–∞–∂–¥—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä:**
- `population_size` - –±–æ–ª—å—à–µ = –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–æ –ª—É—á—à–µ, –º–µ–Ω—å—à–µ = –±—ã—Å—Ç—Ä–µ–µ –Ω–æ —Ö—É–∂–µ
- `num_generations` - –±–æ–ª—å—à–µ = –ª—É—á—à–µ –Ω–æ –¥–æ–ª—å—à–µ
- `num_crossovers_per_gen` - —á–∞—Å—Ç–æ—Ç–∞ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è –≤ –∫–∞–∂–¥–æ–º –ø–æ–∫–æ–ª–µ–Ω–∏–∏
- `mutation_prob` - 0.5 = 50% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –º—É—Ç–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ –≥–µ–Ω–∞
- `int_bits + frac_bits` - —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (16+16 = 32-bit float)

---

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### üöÄ –ë—ã—Å—Ç—Ä–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1-5 –º–∏–Ω—É—Ç)
```cpp
ga_config.population_size = 100;
ga_config.num_generations = 10;
ga_config.num_crossovers_per_gen = 10;
robot_config.num_trajectories = 16;
```

#### ‚öñÔ∏è –°—Ä–µ–¥–Ω—è—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (20-30 –º–∏–Ω–Ω—É—Ç)
```cpp
ga_config.population_size = 300;
ga_config.num_generations = 20;
ga_config.num_crossovers_per_gen = 18;
robot_config.num_trajectories = 32;
```

#### üéØ –ì–ª—É–±–æ–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1-2 —á–∞—Å–∞)
```cpp
ga_config.population_size = 500;
ga_config.num_generations = 32;
ga_config.num_crossovers_per_gen = 24;
robot_config.num_trajectories = 64;
```

---

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ—Ç–æ–¥–æ–≤ –≤ NetOper

**–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:**
```cpp
net.saveMatrixToFile("best_matrix.txt");      // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞—Ç—Ä–∏—Ü—É
net.saveParametersToFile("best_params.txt");  // –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```

**–ó–∞–≥—Ä—É–∑–∫–∞:**
```cpp
net.loadMatrixFromFile("best_matrix.txt");      // –ó–∞–≥—Ä—É–∂–∞–µ—Ç –º–∞—Ç—Ä–∏—Ü—É –∏–∑ —Ñ–∞–π–ª–∞
net.loadParametersFromFile("best_params.txt");  // –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ —Ñ–∞–π–ª–∞
```

### –§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤

**best_matrix.txt** - –º–∞—Ç—Ä–∏—Ü–∞ 32x32, —á–∏—Å–ª–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª–∞–º–∏:
```
1 0 0 0 0 0 1 10 0 0 12 1 0 0 0 0 0 0 0 0 0 0 0 10 0 0 0 0 0 0 0 0
0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 19 0 0 0 0 0 0 0 0 0 0 0 0
...
```

**best_params.txt** - 8 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª:
```
41974.2 29423.1 53775.6 16406.0 41974.2 29423.1 53775.6 16406.0
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞

–í `main()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞:

```cpp
// –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ñ–∞–π–ª—ã
if (file_exists("best_matrix.txt") && file_exists("best_params.txt")) {
    // –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    ga_config.nop_template->loadMatrixFromFile("best_matrix.txt");
    ga_config.nop_template->loadParametersFromFile("best_params.txt");
} else {
    // –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏
    ga_config.nop_template->setCs(robot_config.base_params);
    ga_config.nop_template->setPsi(robot_config.base_matrix);
}

// –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
ga_config.on_algorithm_end = save_best_solution;  // –í—ã–∑—ã–≤–∞–µ—Ç saveMatrixToFile –∏ saveParametersToFile
```

---

## –ó–∞–ø—É—Å–∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ü–æ–ª–Ω—ã–π workflow

#### –®–∞–≥ 1: –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `train_robot_control.cpp`

```cpp
// –í main() –∏–∑–º–µ–Ω—è–π —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è:
robot_config.num_trajectories = 64;           // ‚Üê –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é
robot_config.num_test_trajectories = 64;      // ‚Üê –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

ga_config.population_size = 500;              // ‚Üê –†–∞–∑–º–µ—Ä –ø–æ–ø—É–ª—è—Ü–∏–∏
ga_config.num_generations = 32;               // ‚Üê –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∫–æ–ª–µ–Ω–∏–π
ga_config.num_crossovers_per_gen = 24;        // ‚Üê –û–ø–µ—Ä–∞—Ü–∏–∏ —Å–∫—Ä–µ—â–∏–≤–∞–Ω–∏—è
```

#### –®–∞–≥ 2: –ü–æ—Å—Ç—Ä–æ–π –ø—Ä–æ–µ–∫—Ç

```bash
cd /path/to/rosbot_nop_controller
mkdir -p build && cd build
cmake ..
make  # –∏–ª–∏ make -j4 –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Å–±–æ—Ä–∫–∏
```

#### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é

```bash
./train –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ CMake
```

#### –®–∞–≥ 4: –û—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –≤—ã–≤–µ–¥–µ—Ç:
```
=== LOADING NETWORK STATE ===
No saved network state found, using base configuration
‚úì Base network configuration loaded
NetOper template initialized

=== STARTING GENETIC ALGORITHM ===
Population: 500
Generations: 32
Training trajectories: 64
Test trajectories: 64

Gen 0 done, avg: 123.45
Gen 1 done, avg: 125.67
Gen 2 done, avg: 128.90
...
Gen 31 done, avg: 145.23

=== GA COMPLETED SUCCESSFULLY ===
Results saved to:
  - best_matrix.txt
  - best_params.txt
  - trajectories.csv
  - evolution_log.txt
```

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°–æ–∑–¥–∞–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è:

| –§–∞–π–ª | –°–æ–¥–µ—Ä–∂–∏–º–æ–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------|-----------|---------------|
| `best_matrix.txt` | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ 32x32 | –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| `best_params.txt` | 8 –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ | –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è |
| `trajectories.csv` | –°–∏–º—É–ª—è—Ü–∏—è 64 —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π —Ä–æ–±–æ—Ç–∞ | –ê–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ matplotlib |
| `evolution_log.txt` | –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω–Ω–æ—Å—Ç–∏ | –ê–Ω–∞–ª–∏–∑ —Å—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ |

### –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### 1. –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ —ç–≤–æ–ª—é—Ü–∏–∏
```bash
cat evolution_log.txt
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
Generation 0: avg_fitness = 123.45
Generation 1: avg_fitness = 125.67
Generation 2: avg_fitness = 128.90
...
Generation 31: avg_fitness = 145.23
```

#### 2. –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π (Python)
```python
import pandas as pd
import matplotlib.pyplot as plt

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
df = pd.read_csv('trajectories.csv')

# –í–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
for traj_id in df['Trajectory'].unique()[:5]:
    traj = df[df['Trajectory'] == traj_id]
    plt.plot(traj['X'], traj['Y'], label=f'Traj {traj_id}')

plt.legend()
plt.xlabel('X')
plt.ylabel('Y')
plt.title('Robot Trajectories')
plt.grid(True)
plt.show()
```

#### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```bash
cat best_params.txt
# –í—ã–≤–æ–¥: 41974.2 29423.1 53775.6 16406.0 41974.2 29423.1 53775.6 16406.0

wc -l best_matrix.txt
# 32 —Å—Ç—Ä–æ–∫ –º–∞—Ç—Ä–∏—Ü—ã
```

### –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ —Å –ª—É—á—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```cpp
// –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ —Å —Ç–µ–º –∂–µ main():
// 1. –§–∞–π–ª—ã best_matrix.txt –∏ best_params.txt –±—É–¥—É—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã
// 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –≤ GA
// 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è —Å —ç—Ç–æ–π —Ç–æ—á–∫–∏
// 4. –õ—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–Ω–æ–≤–∞ –ø–µ—Ä–µ–∑–∞–ø–∏—à—É—Ç —Ñ–∞–π–ª—ã
```

---

## –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞ 1: "File not found: rosbot_gazebo9_2d_model.onnx"
**–†–µ—à–µ–Ω–∏–µ:**
```cpp
robot_config.model_path = "/–ø–æ–ª–Ω—ã–π/–ø—É—Ç—å/–∫/–º–æ–¥–µ–ª–∏/rosbot_gazebo9_2d_model.onnx";
```

### –û—à–∏–±–∫–∞ 2: "Matrix is empty, nothing to save"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Å—å —á—Ç–æ `setPsi()` –±—ã–ª –≤—ã–∑–≤–∞–Ω –ø–µ—Ä–µ–¥ `saveMatrixToFile()`

---