/**
 * @file RobotProblemConfig.hpp
 * @brief Конфигурация для задачи робота
 */

#pragma once
#include <vector>
#include <string>
#include "base_config.hpp"


struct RobotProblemConfig : public BaseConfig {
    // ===== СПЕЦИФИЧНЫЕ ПАРАМЕТРЫ ДЛЯ РОБОТА =====
    
    /// Шаг симуляции (dt)
    float dt = 0.033333f;
    
    /// Максимальное время симуляции
    float time_limit = 15.0f;
    
    /// Условие остановки
    float epsilon_term = 0.1f;
    
    /// Количество траекторий
    int num_trajectories = 8;
    
    /// Минимальные значения начального состояния
    std::vector<float> qyminc = {-5.5f, -5.5f, -1.31f};
    
    /// Максимальные значения начального состояния
    std::vector<float> qymaxc = {5.5f, 5.5f, 1.31f};
    
    /// Путь к модели ONNX
    std::string model_path = "rosbot_gazebo9_2d_model.onnx";
    
    
    // ===== ИНИЦИАЛИЗАЦИЯ =====
    
    RobotProblemConfig() {
        // Инициализируем базовую матрицу
        base_matrix = {
            {1, 0, 0, 0, 0, 0, 1, 10, 0, 0, 12, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 10},
            {0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 19, 0, 0, 0, 0},
            {0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 2, 9, 0, 0, 0, 0, 10, 0, 0, 0},
            {0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 6, 0, 0, 0, 0, 13, 0, 0, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 22, 0, 0, 0, 0, 11, 0, 0, 0, 0, 0, 0, 19},
            {0, 0, 1, 0, 0, 0, 6, 0, 0, 8, 0, 5, 0, 4, 13, 10, 0, 0, 0, 14, 15, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 2, 0, 1, 10, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 8, 0, 0, 0, 12, 0, 0, 1, 19, 0, 0, 0},
            {0, 1, 0, 0, 0, 2, 0, 0, 0, 1, 1, 8, 0, 0, 0, 1, 8, 0, 0, 0, 14, 12, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 1, 26, 5, 4, 23, 0, 0, 0, 0, 15, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 17, 10, 10, 0, 0, 0, 0, 16, 0, 16, 0, 16},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 14, 0, 25, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 7, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 10, 0, 1, 0, 0, 12, 0, 13},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 8, 0, 0, 27, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 0, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 1, 0, 15, 4, 0, 0},
            {0, 7, 0, 0, 0, 0, 0, 0, 0, 0, 17, 0, 0, 0, 1, 0, 0, 0, 7, 0, 17, 0, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 21, 0, 16, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 1, 0, 0},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0, 0, 0, 7, 16, 13},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 4},
            {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6}
        };
        
        base_params = {6703.02, 20833.6, 39213.1, 51080.3};
        
        nodes_for_vars = {0, 1, 2};
        nodes_for_params = {3, 4, 5, 6};
        nodes_for_output = {22, 23};
    }
};
